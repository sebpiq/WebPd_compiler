/*
 * Copyright (c) 2012-2020 SÃ©bastien Piquemal <sebpiq@gmail.com>
 *
 * BSD Simplified License.
 * For information on usage and redistribution, and for a DISCLAIMER OF ALL
 * WARRANTIES, see the file, "LICENSE.txt," in this distribution.
 *
 * See https://github.com/sebpiq/WebPd_pd-parser for documentation
 *
 */

type TypedArray = ${FloatArrayType}


// =========================== EXPORTED API
function x_tarray_createListOfArrays(): TypedArray[] {
    const tarray: TypedArray[] = []
    return tarray
}

function x_tarray_pushToListOfArrays(arrays: TypedArray[], array: TypedArray): void {
    arrays.push(array)
}

function x_tarray_getListOfArraysLength(arrays: TypedArray[]): i32 {
    return arrays.length
}

function x_tarray_getListOfArraysElem(arrays: TypedArray[], index: i32): TypedArray {
    return arrays[index]
}

export {
    x_tarray_createListOfArrays as tarray_createListOfArrays,
    x_tarray_pushToListOfArrays as tarray_pushToListOfArrays,
    x_tarray_getListOfArraysLength as tarray_getListOfArraysLength,
    x_tarray_getListOfArraysElem as tarray_getListOfArraysElem,
    tarray_create,
}


// =========================== TARRAY API
function tarray_create(length: i32): TypedArray {
    return new ${FloatArrayType}(length)
}